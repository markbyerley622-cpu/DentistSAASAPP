# SmileDesk Backend Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# SERVER
# ===========================================
PORT=3001
NODE_ENV=development
API_URL=https://your-app.com

# Frontend URL for CORS
FRONTEND_URL=http://localhost:5173

# ===========================================
# DATABASE
# ===========================================
DATABASE_URL=postgresql://user:password@host:5432/smiledesk
# Or use individual variables:
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=smiledesk
# DB_USER=postgres
# DB_PASSWORD=password

# ===========================================
# JWT AUTHENTICATION (Required)
# ===========================================
# IMPORTANT: Generate strong random secrets for production!
# Example: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-key-minimum-32-characters
JWT_REFRESH_SECRET=your-jwt-refresh-secret-key-minimum-32-characters

# ===========================================
# ENCRYPTION (Required for API key storage)
# ===========================================
# 32-character hex key for encrypting sensitive data
# Generate with: openssl rand -hex 16
ENCRYPTION_KEY=your-32-character-encryption-key

# ===========================================
# VONAGE SMS (Required for SMS functionality)
# ===========================================
# Get these from: https://dashboard.nexmo.com/
VONAGE_API_KEY=your-vonage-api-key
VONAGE_API_SECRET=your-vonage-api-secret

# Your Vonage virtual number (E.164 format)
VONAGE_FROM_NUMBER=+61400000000

# Webhook signature secret (for security)
# Set this in Vonage Dashboard -> Settings -> Signature secret
VONAGE_SIGNATURE_SECRET=your-webhook-signature-secret

# ===========================================
# ERROR MONITORING (Optional but recommended)
# ===========================================
# Get your DSN from: https://sentry.io/
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ===========================================
# LOGGING
# ===========================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# ===========================================
# TWILIO (Optional - for OTP only)
# ===========================================
# Only needed if using phone-based password reset
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# WEBHOOK ENDPOINTS
# ===========================================
# Configure these URLs in your PBX and Vonage Dashboard:
#
# PBX Missed Call Webhooks:
#   Generic:     POST https://your-api.com/api/pbx/missed-call
#   3CX:         POST https://your-api.com/api/pbx/missed-call/3cx
#   RingCentral: POST https://your-api.com/api/pbx/missed-call/ringcentral
#   Vonage:      POST https://your-api.com/api/pbx/missed-call/vonage
#   FreePBX:     POST https://your-api.com/api/pbx/missed-call/freepbx
#   8x8:         POST https://your-api.com/api/pbx/missed-call/8x8
#   Zoom:        POST https://your-api.com/api/pbx/missed-call/zoom
#
# Vonage SMS Webhooks:
#   Inbound:     POST https://your-api.com/api/sms/incoming
#   Status:      POST https://your-api.com/api/sms/status
#
# Health Check:
#   GET https://your-api.com/health
